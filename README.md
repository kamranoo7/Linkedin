Voice Analytics & Transaction Webhook ServiceThis repository contains the Backend API for the Fullstack Engineer Assessment1111. It is built with FastAPI and MongoDB (Motor) to handle high-concurrency transaction webhooks with reliable background processing2222.üöÄ Technical Choices & ArchitectureFastAPI & BackgroundTasks: Used to meet the requirement of responding within 500ms3. By using BackgroundTasks, the API acknowledges the webhook with a 202 Accepted status immediately and processes the logic in the background444.Asynchronous Processing: Implemented a 30-second delay using asyncio.sleep to simulate external API calls as requested55.MongoDB (Motor): Chosen for persistent storage to handle transaction data and timing information6666.Idempotency Logic: The service checks for existing transaction_ids before processing to ensure that duplicate webhooks do not result in multiple transactions777.üõ†Ô∏è FeaturesWebhook Endpoint: POST /v1/webhooks/transactions accepts payment data and initiates processing8.Health Check: GET / provides system status and current server time999.Status Query: GET /v1/transactions/{transaction_id} allows for real-time tracking of transaction states (PROCESSING vs PROCESSED)10101010.üìã Requirements & InstallationClone the repository:Bashgit clone <your-repo-url>
cd backend
Create a Virtual Environment:Bashpython3 -m venv venv
source venv/bin/activate
Install Dependencies:Bashpip install -r requirements.txt
Environment Variables:Create a .env file and add your MongoDB connection string:PlaintextMONGODB_URL=mongodb+srv://<user>:<password>@cluster.mongodb.net/
üöÄ Running the ServiceStart the server locally using Uvicorn:Bashpython -m uvicorn app.main:app --reload
üß™ Testing the Success CriteriaTest CaseMethodExpected ResultHealth CheckGET /Returns {"status": "HEALTHY", ...} 11Response SpeedPOST /v1/webhooks/...Response in < 500ms 12Status CodePOST /v1/webhooks/...Returns 202 Accepted 13Background DelayGET /v1/transactions/...Status is PROCESSING for 30s, then PROCESSED 141414IdempotencyDouble POSTOnly one record is created/processed 15
